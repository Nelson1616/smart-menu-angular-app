@defer (when sessionOrder != null && currentSessionUser != null) {
  <div style="width: 90%" class="row mx-auto bg-light rounded p-2">
    <div class="row">
      <div class="col-6">
        <p class="h4">{{ sessionOrder!.product!.name }}</p>

        <p>
          {{ sessionOrder!.quantity }}x R${{
            sessionOrder!.product!.price / 100
          }}
        </p>

        <h3>= R${{ sessionOrder!.amount / 100 }}</h3>
      </div>

      <div class="col-6">
        <div
          style="width: 100%; aspect-ratio: 1; position: relative"
          class="mx-auto my-2"
        >
          <img
            [ngSrc]="sessionOrder!.product!.image"
            fill
            alt=""
            class="rounded"
            priority
          />
        </div>
      </div>
    </div>

    <div class="my-2">
      <div class="d-flex justify-content-start overflow-x-scroll">
        @for (
          sessionOrderUser of sessionOrder!.sessionOrderUsers;
          track sessionOrderUser.id
        ) {
          <div class="bg-info rounded-pill d-flex p-1 mx-1">
            <div style="width: 45px; aspect-ratio: 1; position: relative">
              <img
                ngSrc="/assets/images/avatar_{{
                  sessionOrderUser.sessionUser!.user?.imageid
                }}.png"
                fill
                alt=""
                class="rounded-circle"
                priority
              />
            </div>

            <div
              class="d-flex align-items-center text-light mx-2"
              style="white-space: nowrap"
            >
              <h5>{{ sessionOrderUser.sessionUser!.user?.name }}</h5>
            </div>
          </div>
        }
      </div>
    </div>

    <div>
      @if (!verifyUserInOrder()) {
        <button
          class="btn btn-success w-100 my-2 mx-auto"
          (click)="helpWithOrder()"
          [disabled]="!allowAction"
        >
          Dividir Pedido <i class="bi bi-person-plus-fill"></i>
        </button>
      } @else {
        <button
          class="btn btn-warning w-100 my-2 mx-auto"
          (click)="notHelpWithOrder()"
          [disabled]="!allowAction"
        >
          Deixar de Dividir Pedido <i class="bi bi-heartbreak"></i>
        </button>
      }
    </div>
  </div>
} @placeholder (minimum 1s) {
  <div class="spinner-grow m-auto" role="status"></div>
}
